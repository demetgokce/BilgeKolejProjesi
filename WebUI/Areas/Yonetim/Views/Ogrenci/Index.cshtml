@model Bilge.Domain.Ogrenci
@{
    Layout = "../Shared/_Layout.cshtml";
    ViewBag.Title = "Öğrenci Ekle";
}
<h2>Öğrenci Ekle</h2>
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $.fakulteId = $("#FakulteId").val();
        GetirBolumler($.fakulteId);
        $("#FakulteId").change(function () {
            $.fakulteId = $(this).val();
            GetirBolumler();
        });
    });
    function GetirBolumler(fakulteId) {
        $("#BolumId").empty();
        $.ajax({
            type: "POST",
            url: '@Url.Action("SinifDersleriJson","Sinif")',
            data: { id: $.sinifId },
            dataType: "json",
            success: function (siniflar) {
                $.each(bolumler, function (index, sinif) {
                    $("#SinifId").append("<option value=" + sinif.Id + ">" + sinif.ad + "</option>");
                });
            }
        });
    }
</script>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <h4>Öğrenci Bilgisi</h4>
        <hr />
        @Html.ValidationSummary(true)

        <div class="form-group">
            @Html.LabelFor(model => model.Adi, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Adi)
                @Html.ValidationMessageFor(model => model.Adi)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Soyadi, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Soyadi)
                @Html.ValidationMessageFor(model => model.Soyadi)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.TcNo, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.TcNo)
                @Html.ValidationMessageFor(model => model.TcNo)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.EPosta, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.EPosta)
                @Html.ValidationMessageFor(model => model.EPosta)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.DogumTarih, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.DogumTarih)
                @Html.ValidationMessageFor(model => model.DogumTarih)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.GirisTarih, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.GirisTarih)
                @Html.ValidationMessageFor(model => model.GirisTarih)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.CikisTarih, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.CikisTarih)
                @Html.ValidationMessageFor(model => model.CikisTarih)
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2">Fakülte</label>
            <div class="col-md-10">
                <select id="FakulteId">
                    @foreach (SelectListItem fakulte in (IEnumerable<SelectListItem>)ViewBag.Fakulteler)
                    {
                        <option value="@fakulte.Value">@fakulte.Text</option>
                    }
                </select>
                @Html.ValidationMessageFor(model => model.SinifId)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.DersId, "DersId", new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                <select id="BolumId" name="BolumId"></select>
                @Html.ValidationMessageFor(model => model.DersId)
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Kaydet" class="btn btn-default" />
            </div>
        </div>
    </div>
}

<div>
    @Html.ActionLink("Öğrenci Listesine Dön", "OgrenciListesi")
</div>

@section Scripts {

}